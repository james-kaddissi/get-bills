{"spans": [{"name": "RunnableSequence_1", "context": {"span_id": "f87d44603485eb73", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": null, "start_time": 1743326036827519000, "end_time": 1743326036852628000, "status_code": "ERROR", "status_message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\"}"}, "events": [{"name": "exception", "timestamp": 1743326036852602, "attributes": {"exception.message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "exception.type": "MlflowException", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3025, in invoke\n    input = context.run(step.invoke, input, config)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/autologging_utils/safety.py\", line 483, in safe_patch_function\n    patch_function(call_original, *args, **kwargs)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/langchain/_langchain_autolog.py\", line 74, in patched_inference\n    result = _invoke(self, *args, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/langchain/_langchain_autolog.py\", line 66, in _invoke\n    return original(self, *args, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/autologging_utils/safety.py\", line 474, in call_original\n    return call_original_fn_with_event_logging(_original_fn, og_args, og_kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/autologging_utils/safety.py\", line 425, in call_original_fn_with_event_logging\n    original_fn_result = original_fn(*og_args, **og_kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/autologging_utils/safety.py\", line 471, in _original_fn\n    original_result = original(*_og_args, **_og_kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/chains/base.py\", line 170, in invoke\n    raise e\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/chains/base.py\", line 160, in invoke\n    self._call(inputs, run_manager=run_manager)\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1624, in _call\n    next_step_output = self._take_next_step(\n        name_to_tool_map,\n    ...<3 lines>...\n        run_manager=run_manager,\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1332, in _take_next_step\n    for a in self._iter_next_step(\n             ~~~~~~~~~~~~~~~~~~~~^\n        name_to_tool_map,\n        ^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        run_manager,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1358, in _iter_next_step\n    output = self._action_agent.plan(\n        intermediate_steps,\n        callbacks=run_manager.get_child() if run_manager else None,\n        **inputs,\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 581, in plan\n    for chunk in self.runnable.stream(inputs, config={\"callbacks\": callbacks}):\n                 ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3409, in stream\n    yield from self.transform(iter([input]), config, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3396, in transform\n    yield from self._transform_stream_with_config(\n    ...<4 lines>...\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 2199, in _transform_stream_with_config\n    chunk: Output = context.run(next, iterator)  # type: ignore\n                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3359, in _transform\n    yield from final_pipeline\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1413, in transform\n    for ichunk in input:\n                  ^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 5565, in transform\n    yield from self.bound.transform(\n    ...<3 lines>...\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1431, in transform\n    yield from self.stream(final, config, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 187, in stream\n    yield from super().stream(input, config, stop=stop, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py\", line 428, in stream\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 204, in _stream\n    for chunk in chunk_iter:\n                 ^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 299, in predict_stream\n    chunk_line_iter = self._call_endpoint_stream(\n        method=\"POST\",\n    ...<3 lines>...\n        timeout=MLFLOW_DEPLOYMENT_PREDICT_TIMEOUT.get(),\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 167, in _call_endpoint_stream\n    host_creds=get_databricks_host_creds(self.target_uri),\n               ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 819, in get_databricks_host_creds\n    config = _get_databricks_creds_config(server_uri)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 1108, in _get_databricks_creds_config\n    _fail_malformed_databricks_auth(tracking_uri)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 682, in _fail_malformed_databricks_auth\n    raise MlflowException(\n    ...<10 lines>...\n    )\nmlflow.exceptions.MlflowException: Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'."}}]}, {"name": "RunnableParallel<messages>", "context": {"span_id": "25e6af51eae7f655", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "f87d44603485eb73", "start_time": 1743326036828229000, "end_time": 1743326036830979000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\"}", "mlflow.spanOutputs": "{\"messages\": \"How much money is in 10 moneys\"}"}, "events": []}, {"name": "RunnableLambda_1", "context": {"span_id": "035a4952a0c3ce4c", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "25e6af51eae7f655", "start_time": 1743326036830111000, "end_time": 1743326036830841000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\"}", "mlflow.spanOutputs": "\"How much money is in 10 moneys\""}, "events": []}, {"name": "AgentExecutor", "context": {"span_id": "9bf6f9670fc93246", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "f87d44603485eb73", "start_time": 1743326036831570000, "end_time": 1743326036849914000, "status_code": "ERROR", "status_message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\"}"}, "events": [{"name": "exception", "timestamp": 1743326036849883, "attributes": {"exception.message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "exception.type": "MlflowException", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/chains/base.py\", line 160, in invoke\n    self._call(inputs, run_manager=run_manager)\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1624, in _call\n    next_step_output = self._take_next_step(\n        name_to_tool_map,\n    ...<3 lines>...\n        run_manager=run_manager,\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1332, in _take_next_step\n    for a in self._iter_next_step(\n             ~~~~~~~~~~~~~~~~~~~~^\n        name_to_tool_map,\n        ^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        run_manager,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 1358, in _iter_next_step\n    output = self._action_agent.plan(\n        intermediate_steps,\n        callbacks=run_manager.get_child() if run_manager else None,\n        **inputs,\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain/agents/agent.py\", line 581, in plan\n    for chunk in self.runnable.stream(inputs, config={\"callbacks\": callbacks}):\n                 ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3409, in stream\n    yield from self.transform(iter([input]), config, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3396, in transform\n    yield from self._transform_stream_with_config(\n    ...<4 lines>...\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 2199, in _transform_stream_with_config\n    chunk: Output = context.run(next, iterator)  # type: ignore\n                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3359, in _transform\n    yield from final_pipeline\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1413, in transform\n    for ichunk in input:\n                  ^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 5565, in transform\n    yield from self.bound.transform(\n    ...<3 lines>...\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1431, in transform\n    yield from self.stream(final, config, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 187, in stream\n    yield from super().stream(input, config, stop=stop, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py\", line 428, in stream\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 204, in _stream\n    for chunk in chunk_iter:\n                 ^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 299, in predict_stream\n    chunk_line_iter = self._call_endpoint_stream(\n        method=\"POST\",\n    ...<3 lines>...\n        timeout=MLFLOW_DEPLOYMENT_PREDICT_TIMEOUT.get(),\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 167, in _call_endpoint_stream\n    host_creds=get_databricks_host_creds(self.target_uri),\n               ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 819, in get_databricks_host_creds\n    config = _get_databricks_creds_config(server_uri)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 1108, in _get_databricks_creds_config\n    _fail_malformed_databricks_auth(tracking_uri)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 682, in _fail_malformed_databricks_auth\n    raise MlflowException(\n    ...<10 lines>...\n    )\nmlflow.exceptions.MlflowException: Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'."}}]}, {"name": "RunnableSequence_2", "context": {"span_id": "7cf3c8c2116a2cf3", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "9bf6f9670fc93246", "start_time": 1743326036832273000, "end_time": 1743326036847848000, "status_code": "ERROR", "status_message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": []}"}, "events": [{"name": "exception", "timestamp": 1743326036847803, "attributes": {"exception.message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "exception.type": "MlflowException", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 2199, in _transform_stream_with_config\n    chunk: Output = context.run(next, iterator)  # type: ignore\n                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 3359, in _transform\n    yield from final_pipeline\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1413, in transform\n    for ichunk in input:\n                  ^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 5565, in transform\n    yield from self.bound.transform(\n    ...<3 lines>...\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py\", line 1431, in transform\n    yield from self.stream(final, config, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 187, in stream\n    yield from super().stream(input, config, stop=stop, **kwargs)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py\", line 428, in stream\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 204, in _stream\n    for chunk in chunk_iter:\n                 ^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 299, in predict_stream\n    chunk_line_iter = self._call_endpoint_stream(\n        method=\"POST\",\n    ...<3 lines>...\n        timeout=MLFLOW_DEPLOYMENT_PREDICT_TIMEOUT.get(),\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 167, in _call_endpoint_stream\n    host_creds=get_databricks_host_creds(self.target_uri),\n               ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 819, in get_databricks_host_creds\n    config = _get_databricks_creds_config(server_uri)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 1108, in _get_databricks_creds_config\n    _fail_malformed_databricks_auth(tracking_uri)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 682, in _fail_malformed_databricks_auth\n    raise MlflowException(\n    ...<10 lines>...\n    )\nmlflow.exceptions.MlflowException: Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'."}}]}, {"name": "RunnableAssign<agent_scratchpad>", "context": {"span_id": "bff3a6220c47bd50", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "7cf3c8c2116a2cf3", "start_time": 1743326036834575000, "end_time": 1743326036836894000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": []}", "mlflow.spanOutputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": [], \"agent_scratchpad\": []}"}, "events": []}, {"name": "RunnableParallel<agent_scratchpad>", "context": {"span_id": "0e50e3e710b70af0", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "bff3a6220c47bd50", "start_time": 1743326036835491000, "end_time": 1743326036836820000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": []}", "mlflow.spanOutputs": "{\"agent_scratchpad\": []}"}, "events": []}, {"name": "RunnableLambda_2", "context": {"span_id": "bf69bb3f0bea6e0b", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "0e50e3e710b70af0", "start_time": 1743326036836325000, "end_time": 1743326036836684000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": []}", "mlflow.spanOutputs": "[]"}, "events": []}, {"name": "ChatPromptTemplate", "context": {"span_id": "01c112a19b3198d4", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "7cf3c8c2116a2cf3", "start_time": 1743326036837648000, "end_time": 1743326036838182000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"messages\": \"How much money is in 10 moneys\", \"intermediate_steps\": [], \"agent_scratchpad\": []}", "mlflow.spanOutputs": "{\"messages\": [{\"content\": \"\\nYou are a financial advisor specializing in helping build investment portfolios based on the user's financial status and their financial goals with these investments over some timeline aligning with their goals.\\n\\nThe user must input text elaborating on their financial information. From this conversation, acquire all the necessary information needed to financially advise them. You should use the following Checklist to gather this info:\\n\\nChecklist: the amount of cash aiming to be invested, the user's financial goals through investment, the timeline by which they want to meet this goal, and how aggressive they want to be with their investments. If applicable, field the user's occupation and what kind of retirement strategy their employment supports or the user wants to pursue.\\n\\nGathering all this info is necessary to process all relevant information about the user in order to provide the best advice possible. DO NOT offer any financial advice until you have received all of this information. If you are missing any information from the Checklist, or anything else which you deem relevant, ask the user to provide or clarify further points through a continuous feedback loop.\\n\\nOnce receiving all information: Use the get_current_stock_price function to retrieve the current price of a stock. Always use this function to get the latest market data before suggesting any stock investment decisions. Analyze this market data to suggest a few stocks, bonds, and/or cryptocurrencies for the user to invest in.\\n\\nGive a concise breakdown of the amount/percentage of the user's money you suggest should be invested into each of these recommended assets, the reasoning behind why you suggest investing in each asset in relation to the user's goals, and any additional information you think would be helpful (such as risks and general investment advice). \\n\", \"additional_kwargs\": {}, \"response_metadata\": {}, \"type\": \"system\", \"name\": null, \"id\": null}, {\"content\": \"How much money is in 10 moneys\", \"additional_kwargs\": {}, \"response_metadata\": {}, \"type\": \"human\", \"name\": null, \"id\": null}]}"}, "events": []}, {"name": "ChatDatabricks", "context": {"span_id": "bba9bda4e44350f4", "trace_id": "368c9b278c2dda1feb83d68494425f18"}, "parent_id": "7cf3c8c2116a2cf3", "start_time": 1743326036838948000, "end_time": 1743326036845046000, "status_code": "ERROR", "status_message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "attributes": {"mlflow.traceRequestId": "\"a9fbd2ab1db44cd2b26839c169d86b62\"", "mlflow.spanType": "\"CHAT_MODEL\"", "invocation_params": "{\"target_uri\": \"databricks\", \"endpoint\": \"databricks-meta-llama-3-1-70b-instruct\", \"temperature\": 0.0, \"n\": 1, \"stop\": null, \"max_tokens\": null, \"extra_params\": {}, \"_type\": \"databricks-chat\", \"tools\": [{\"type\": \"function\", \"function\": {\"name\": \"Get Current Stock Price\", \"description\": \"Use this tool to get the current stock price. Input should be a stock ticker symbol such as AAPL, DOW, TSLA, SPX, IXIC. Outputs a string listing the current price of the given stock.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current Market Data\", \"description\": \"Use this tool to get the current market data. This outputs three strings representing the price differences of the S&P, NASDAQ, and DOW indexes over the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current CPI\", \"description\": \"Use this tool to get the current CPI. This outputs a string giving the most current CPI index.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Price Difference in Last 2 Weeks\", \"description\": \"Use this tool to get the price change of a stock in the last two weeks. Input should be a stock ticker symbol. Outputs a string listing the difference of the stock's price from the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}]}", "options": "{\"stop\": null, \"tools\": [{\"type\": \"function\", \"function\": {\"name\": \"Get Current Stock Price\", \"description\": \"Use this tool to get the current stock price. Input should be a stock ticker symbol such as AAPL, DOW, TSLA, SPX, IXIC. Outputs a string listing the current price of the given stock.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current Market Data\", \"description\": \"Use this tool to get the current market data. This outputs three strings representing the price differences of the S&P, NASDAQ, and DOW indexes over the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current CPI\", \"description\": \"Use this tool to get the current CPI. This outputs a string giving the most current CPI index.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Price Difference in Last 2 Weeks\", \"description\": \"Use this tool to get the price change of a stock in the last two weeks. Input should be a stock ticker symbol. Outputs a string listing the difference of the stock's price from the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"title\": \"__arg1\", \"type\": \"string\"}}, \"required\": [\"__arg1\"], \"type\": \"object\"}}}]}", "batch_size": "1", "metadata": "{\"ls_provider\": \"databricks\", \"ls_model_type\": \"chat\", \"ls_temperature\": 0.0}", "mlflow.spanInputs": "[[{\"content\": \"\\nYou are a financial advisor specializing in helping build investment portfolios based on the user's financial status and their financial goals with these investments over some timeline aligning with their goals.\\n\\nThe user must input text elaborating on their financial information. From this conversation, acquire all the necessary information needed to financially advise them. You should use the following Checklist to gather this info:\\n\\nChecklist: the amount of cash aiming to be invested, the user's financial goals through investment, the timeline by which they want to meet this goal, and how aggressive they want to be with their investments. If applicable, field the user's occupation and what kind of retirement strategy their employment supports or the user wants to pursue.\\n\\nGathering all this info is necessary to process all relevant information about the user in order to provide the best advice possible. DO NOT offer any financial advice until you have received all of this information. If you are missing any information from the Checklist, or anything else which you deem relevant, ask the user to provide or clarify further points through a continuous feedback loop.\\n\\nOnce receiving all information: Use the get_current_stock_price function to retrieve the current price of a stock. Always use this function to get the latest market data before suggesting any stock investment decisions. Analyze this market data to suggest a few stocks, bonds, and/or cryptocurrencies for the user to invest in.\\n\\nGive a concise breakdown of the amount/percentage of the user's money you suggest should be invested into each of these recommended assets, the reasoning behind why you suggest investing in each asset in relation to the user's goals, and any additional information you think would be helpful (such as risks and general investment advice). \\n\", \"additional_kwargs\": {}, \"response_metadata\": {}, \"type\": \"system\", \"name\": null, \"id\": null}, {\"content\": \"How much money is in 10 moneys\", \"additional_kwargs\": {}, \"response_metadata\": {}, \"type\": \"human\", \"name\": null, \"id\": null, \"example\": false}]]", "mlflow.chat.messages": "[{\"role\": \"system\", \"content\": \"\\nYou are a financial advisor specializing in helping build investment portfolios based on the user's financial status and their financial goals with these investments over some timeline aligning with their goals.\\n\\nThe user must input text elaborating on their financial information. From this conversation, acquire all the necessary information needed to financially advise them. You should use the following Checklist to gather this info:\\n\\nChecklist: the amount of cash aiming to be invested, the user's financial goals through investment, the timeline by which they want to meet this goal, and how aggressive they want to be with their investments. If applicable, field the user's occupation and what kind of retirement strategy their employment supports or the user wants to pursue.\\n\\nGathering all this info is necessary to process all relevant information about the user in order to provide the best advice possible. DO NOT offer any financial advice until you have received all of this information. If you are missing any information from the Checklist, or anything else which you deem relevant, ask the user to provide or clarify further points through a continuous feedback loop.\\n\\nOnce receiving all information: Use the get_current_stock_price function to retrieve the current price of a stock. Always use this function to get the latest market data before suggesting any stock investment decisions. Analyze this market data to suggest a few stocks, bonds, and/or cryptocurrencies for the user to invest in.\\n\\nGive a concise breakdown of the amount/percentage of the user's money you suggest should be invested into each of these recommended assets, the reasoning behind why you suggest investing in each asset in relation to the user's goals, and any additional information you think would be helpful (such as risks and general investment advice). \\n\"}, {\"role\": \"user\", \"content\": \"How much money is in 10 moneys\"}]", "mlflow.chat.tools": "[{\"type\": \"function\", \"function\": {\"name\": \"Get Current Stock Price\", \"description\": \"Use this tool to get the current stock price. Input should be a stock ticker symbol such as AAPL, DOW, TSLA, SPX, IXIC. Outputs a string listing the current price of the given stock.\", \"parameters\": {\"properties\": {\"__arg1\": {\"type\": \"string\"}}, \"type\": \"object\", \"required\": [\"__arg1\"]}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current Market Data\", \"description\": \"Use this tool to get the current market data. This outputs three strings representing the price differences of the S&P, NASDAQ, and DOW indexes over the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"type\": \"string\"}}, \"type\": \"object\", \"required\": [\"__arg1\"]}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Current CPI\", \"description\": \"Use this tool to get the current CPI. This outputs a string giving the most current CPI index.\", \"parameters\": {\"properties\": {\"__arg1\": {\"type\": \"string\"}}, \"type\": \"object\", \"required\": [\"__arg1\"]}}}, {\"type\": \"function\", \"function\": {\"name\": \"Get Price Difference in Last 2 Weeks\", \"description\": \"Use this tool to get the price change of a stock in the last two weeks. Input should be a stock ticker symbol. Outputs a string listing the difference of the stock's price from the last two weeks.\", \"parameters\": {\"properties\": {\"__arg1\": {\"type\": \"string\"}}, \"type\": \"object\", \"required\": [\"__arg1\"]}}}]"}, "events": [{"name": "exception", "timestamp": 1743326036844994, "attributes": {"exception.message": "Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'.", "exception.type": "MlflowException", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py\", line 428, in stream\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/langchain_community/chat_models/mlflow.py\", line 204, in _stream\n    for chunk in chunk_iter:\n                 ^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 299, in predict_stream\n    chunk_line_iter = self._call_endpoint_stream(\n        method=\"POST\",\n    ...<3 lines>...\n        timeout=MLFLOW_DEPLOYMENT_PREDICT_TIMEOUT.get(),\n    )\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/deployments/databricks/__init__.py\", line 167, in _call_endpoint_stream\n    host_creds=get_databricks_host_creds(self.target_uri),\n               ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 819, in get_databricks_host_creds\n    config = _get_databricks_creds_config(server_uri)\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 1108, in _get_databricks_creds_config\n    _fail_malformed_databricks_auth(tracking_uri)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"/Users/james/quack-hack/.venv/lib/python3.13/site-packages/mlflow/utils/databricks_utils.py\", line 682, in _fail_malformed_databricks_auth\n    raise MlflowException(\n    ...<10 lines>...\n    )\nmlflow.exceptions.MlflowException: Reading Databricks credential configuration failed with MLflow tracking URI 'databricks'. Please ensure that the 'databricks-sdk' PyPI library is installed, the tracking URI is set correctly, and Databricks authentication is properly configured. The tracking URI can be either 'databricks' (using 'DEFAULT' authentication profile) or 'databricks://{profile}'. You can configure Databricks authentication in several ways, for example by specifying environment variables (e.g. DATABRICKS_HOST + DATABRICKS_TOKEN) or logging in using 'databricks auth login'. \nFor details on configuring Databricks authentication, please refer to 'https://docs.databricks.com/en/dev-tools/auth/index.html#unified-auth'."}}]}], "request": "{\"messages\": \"How much money is in 10 moneys\"}", "response": null}